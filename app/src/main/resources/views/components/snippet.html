<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
<!-- Layout -->
<div class="bg-gray-900 rounded-xl shadow-lg" th:fragment="snippetFromMarkup(language, id)" x-data="{ copied: false }">
    <div class="flex items-center justify-between px-4 py-2 border-b border-gray-700">
        <span class="text-xs font-medium text-gray-400" th:text="${language}">Language</span>
        <!--Fucking thymeleaf just doesn't work with complex attributes, so we can't set `@click` or x-on:click.-->
        <button @click="navigator.clipboard.writeText($refs[$el.getAttribute('code-ref')].innerText); copied = true; setTimeout(() => { copied = false }, 2000)"
                class="flex items-center gap-2 text-xs font-medium text-gray-400 transition-colors hover:text-white"
                th:attr="__${'code-ref=code' + id}__">

            <svg fill="none" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                 stroke-width="2" viewBox="0 0 24 24" width="16" x-show="!copied" xmlns="http://www.w3.org/2000/svg">
                <rect height="14" rx="2" ry="2" width="14" x="8" y="8"></rect>
                <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path>
            </svg>
            <svg class="text-green-500" fill="none" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                 stroke-width="3" viewBox="0 0 24 24" width="16" x-cloak x-show="copied"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M20 6 9 17l-5-5"></path>
            </svg>
            <span x-text="copied ? 'Copied!' : 'Copy'"></span>
        </button>
    </div>
    <div class="p-4 overflow-x-auto">
        <pre>
          <code class="text-sm font-mono text-green-400" th:attr="x-ref='code' + ${id}"
                th:insert="~{::('.code-content-' + ${id})}"></code>
        </pre>
    </div>
</div>
</body>
</html>